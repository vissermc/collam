<html>
<head>
<link href="jSplitTree.css" rel="stylesheet" type="text/css" />
<link href="jVisAm.css" rel="stylesheet" type="text/css" />
<script src="jVisAm.js"></script>
<script src="jSplitTree.js"></script>
<script>

function test(target)
{
	var p1=new Proposition('final conclusion');
	var p2=new Proposition('center conclusion');
	var p3=new Proposition('arg 1');
	var p4=new Proposition('arg 2',0.2);
	var p5=new Proposition('arg 3');
	var p6=new Or();
	var p7=new Proposition('arg 4');
	var p8=new Proposition('arg 5');
	connectItems(p2,p1,1);
	connectItems(p3,p6,1);
	connectItems(p5,p6,1);
	connectItems(p6,p2,1);
	connectItems(p4,p2,-1);
	//alert(p5.conclusionConns[p6.id]);
	//connectItems(p7,p5.conclusionConns[p6.id],-1);
	//connectItems(p8,p7.conclusionConns[p5.conclusionConns[p6.id].id],1);
	ArgMap.draw(target,p2);
}
var textObj;
function init()
{
	var str=
"Bruno can be taken for for a walk\n\
	* #1 Bruno is happy and healthy\n\
		+ and\n\
			[0.7] Bruno seems to wag his tail\n\
			Bruno is a dog\n\
			A happy dog is wagging its tail\n\
				-0.2 Sometimes, a dog is wagging its tail in anticipation instead\n\
		- Bruno's boss is not happy now\n\
			<- A dogs happiness is not affected by the emotional state of its boss\n\
		+ Bruno had his health check yesterday and nothing was found\n\
Bruno's boss does not have to worry\n\
	#1\n\
";
	textObj=document.getElementById('text');
	textObj.value=str.replace(/\t/g,"  ");
	//alert(document.getElementById('text').innerHTML.replace(/&lt;/g,'<').replace(/&gt;/g,'>'));
	update();
}
function update()
{
	var o=document.getElementById('test');
	ArgMap.clearTarget(o);
	ArgMap.draw(o, textObj.value);	
} 
</script>
</head>
<body onload="init();">
<form>
<textarea id="text" name="text" cols="120" rows="15" onchange="update(this);"></textarea>
<div id="test"></div>
</body>
</html>